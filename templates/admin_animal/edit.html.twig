{% extends 'base.html.twig' %}

{% block title %}Edit Animal{% endblock %}

{% block body %}
<div class="container mx-auto p-4">
    <h1 class="text-2xl font-bold mb-4">Modifier l'Animal</h1>

    {{ form_start(form) }}
    <div class="mb-4">
        {{ form_label(form.name, 'Nom', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
        {{ form_widget(form.name, {'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'}}) }}
        {{ form_errors(form.name) }}
    </div>
    <div class="mb-4">
        {{ form_label(form.age, 'Âge', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
        {{ form_widget(form.age, {'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'}}) }}
        {{ form_errors(form.age) }}
    </div>
    <div class="mb-4">
        {{ form_label(form.type, 'Type', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
        {{ form_widget(form.type, {'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'}}) }}
        {{ form_errors(form.type) }}
    </div>
    <div class="mb-4">
        {{ form_label(form.race, 'Race', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
        {{ form_widget(form.race, {'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'}}) }}
        {{ form_errors(form.race) }}
    </div>
    <div class="mb-4">
        {{ form_label(form.description, 'Description', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
        {{ form_widget(form.description, {'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'}}) }}
        {{ form_errors(form.description) }}
    </div>
    <div class="mb-4">
        {{ form_label(form.status, 'Statut', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
        {{ form_widget(form.status, {'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'}}) }}
        {{ form_errors(form.status) }}
    </div>
    <div class="mb-4">
        {{ form_label(form.price, 'Prix', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
        {{ form_widget(form.price, {'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'}}) }}
        {{ form_errors(form.price) }}
    </div>
    <div class="mb-4">
        {{ form_label(form.photos, 'Photos', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
        {% if animal.photos is iterable and animal.photos|length > 0 %}
            <div class="flex space-x-4">
                {% for photo in animal.photos %}
                    <img src="{{ asset('uploads/images/' ~ photo) }}" alt="{{ animal.name }}" class="w-16 h-16 object-cover">
                {% endfor %}
            </div>
        {% else %}
            <p>Aucune photo disponible</p>
        {% endif %}
        {{ form_widget(form.photos, {'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'}}) }}
        {{ form_errors(form.photos) }}
    </div>
    <div class="mt-4">
        <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Enregistrer</button>
        <a href="{{ path('app_admin_animal_index') }}" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded ml-2">Retour à la liste</a>
    </div>
    {{ form_end(form) }}
</div>
{% endblock %}